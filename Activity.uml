@startuml

start

:Ввод "google.com" в адресную строку браузера;
:Парсинг URL;
if (Сайт присутствует в списке HSTS?) then (Да)
  :Проверка файла hosts;
  if (Домен присутствует в файле hosts?) then (Да)
  	:Проверка домена в своём кэше;
	else (Нет)
    if (Домен находится в той же подсети?) then (Да)
    	:ARP-запрос;
        :Ответ на ARP-запрос;
    	else (Нет)
    	:ARP-запрос отправляется на IP-адрес шлюза по умолчанию;
     endif
     endif
    :Запрос потока TCP-сокета;
    :Ответ на запрос потока TCP-сокета;
    :Запрос TLS handshake;
    :Ответ на TLS handshake;
    :Отправление HTTP-запроса;
    if (HTTP-заголовки отсутствуют в кэше?) then (Да)
    :Отправление HTML-страницы;
    else (Нет)
    :Загрузка HTML-страницы из кэша;
    endif
:Парсинг HTML;
:Интерпретация CSS;
:Рендеринг страницы;
:Исполнение JavaScript-кода;
:Отображение страницы;
else (Нет)
  :Ответ о необходимости использования HTTPS;

endif

stop